{% extends 'base.html' %}
{% block title %}–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≥–∞–º–∞–Ω—Ü—è{% endblock %}
{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header text-center">
                    <h2>–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Web3 –≥–∞–º–∞–Ω—Ü—è</h2>
                    <p class="text-muted">–ü—ñ–¥–∫–ª—é—á—ñ—Ç—å –≤–∞—à –∫—Ä–∏–ø—Ç–æ–≥–∞–º–∞–Ω–µ—Ü—å –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–Ω–∏–∂–æ–∫</p>
                </div>
                <div class="card-body">
                    <!-- Automatic wallet detection -->
                    <div class="mb-4">
                        <h5>üîó –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è</h5>
                        <p class="text-muted small">–ù–∞–π–∫—Ä–∞—â–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î–º–æ –≤–∞—à –≥–∞–º–∞–Ω–µ—Ü—å</p>
                        <button type="button" class="btn btn-primary btn-lg w-100" onclick="connectWallet()">
                            <i class="fas fa-wallet"></i> –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ –≥–∞–º–∞–Ω–µ—Ü—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
                        </button>
                        <div class="mt-2">
                            <small class="text-muted">
                                –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –≥–∞–º–∞–Ω—Ü—ñ: MetaMask, Trust Wallet, Coinbase Wallet, Rainbow, —Ç–∞ —ñ–Ω—à—ñ Web3 –≥–∞–º–∞–Ω—Ü—ñ
                            </small>
                        </div>
                    </div>

                    <hr>

                    <!-- Manual wallet input -->
                    <div class="mb-4">
                        <h5>‚úçÔ∏è –†—É—á–Ω–µ –≤–≤–µ–¥–µ–Ω–Ω—è –∞–¥—Ä–µ—Å–∏</h5>
                        <p class="text-muted small">–Ø–∫—â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –Ω–µ –ø—Ä–∞—Ü—é—î</p>
                        <form method="POST" action="/user/connect_wallet">
                            <div class="mb-3">
                                <label for="wallet_address" class="form-label">–ê–¥—Ä–µ—Å–∞ –≥–∞–º–∞–Ω—Ü—è</label>
                                <input type="text" 
                                       class="form-control" 
                                       id="wallet_address" 
                                       name="wallet_address" 
                                       placeholder="0x..." 
                                       pattern="^0x[a-fA-F0-9]{40}$"
                                       required>
                                <div class="form-text">
                                    –í–≤–µ–¥—ñ—Ç—å –ø–æ–≤–Ω—É –∞–¥—Ä–µ—Å—É –≤–∞—à–æ–≥–æ Ethereum-—Å—É–º—ñ—Å–Ω–æ–≥–æ –≥–∞–º–∞–Ω—Ü—è (42 —Å–∏–º–≤–æ–ª–∏, –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ 0x)
                                </div>
                            </div>
                            <input type="hidden" name="wallet_type" value="Manual Input">
                            <button type="submit" class="btn btn-outline-primary w-100">
                                –ó–±–µ—Ä–µ–≥—Ç–∏ –∞–¥—Ä–µ—Å—É
                            </button>
                        </form>
                    </div>

                    <hr>

                    <!-- Wallet recommendations -->
                    <div class="mb-4">
                        <h5>üì± –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –≥–∞–º–∞–Ω—Ü—ñ</h5>
                        <div class="row">
                            <div class="col-md-6 mb-2">
                                <a href="https://metamask.io/" target="_blank" class="btn btn-outline-secondary w-100">
                                    <strong>MetaMask</strong><br>
                                    <small>–ë—Ä–∞—É–∑–µ—Ä / –ú–æ–±—ñ–ª—å–Ω–∏–π</small>
                                </a>
                            </div>
                            <div class="col-md-6 mb-2">
                                <a href="https://trustwallet.com/" target="_blank" class="btn btn-outline-secondary w-100">
                                    <strong>Trust Wallet</strong><br>
                                    <small>–ú–æ–±—ñ–ª—å–Ω–∏–π</small>
                                </a>
                            </div>
                            <div class="col-md-6 mb-2">
                                <a href="https://www.coinbase.com/wallet" target="_blank" class="btn btn-outline-secondary w-100">
                                    <strong>Coinbase Wallet</strong><br>
                                    <small>–ë—Ä–∞—É–∑–µ—Ä / –ú–æ–±—ñ–ª—å–Ω–∏–π</small>
                                </a>
                            </div>
                            <div class="col-md-6 mb-2">
                                <a href="https://rainbow.me/" target="_blank" class="btn btn-outline-secondary w-100">
                                    <strong>Rainbow</strong><br>
                                    <small>–ú–æ–±—ñ–ª—å–Ω–∏–π</small>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Information about discounts -->
                    <div class="alert alert-info">
                        <h6><i class="fas fa-percentage"></i> –ó–Ω–∏–∂–∫–∏ –∑–∞ —Ç–æ–∫–µ–Ω–∏</h6>
                        <p class="mb-1">–ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≥–∞–º–∞–Ω—Ü—è –≤–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –∑–Ω–∏–∂–∫–∏ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –Ω–∞—à–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤:</p>
                        <ul class="mb-0 small">
                            <li>100,000+ —Ç–æ–∫–µ–Ω—ñ–≤ ‚Üí 50% –∑–Ω–∏–∂–∫–∞</li>
                            <li>50,000+ —Ç–æ–∫–µ–Ω—ñ–≤ ‚Üí 25% –∑–Ω–∏–∂–∫–∞</li>
                            <li>10,000+ —Ç–æ–∫–µ–Ω—ñ–≤ ‚Üí 10% –∑–Ω–∏–∂–∫–∞</li>
                            <li>1,000+ —Ç–æ–∫–µ–Ω—ñ–≤ ‚Üí 5% –∑–Ω–∏–∂–∫–∞</li>
                            <li>100+ —Ç–æ–∫–µ–Ω—ñ–≤ ‚Üí 1% –∑–Ω–∏–∂–∫–∞</li>
                        </ul>
                    </div>

                    <div class="text-center">
                        <a href="{% if current_user.user_type == 'seller' %}{{ url_for('user.seller_dashboard', email=current_user.email) }}{% else %}{{ url_for('user.buyer_dashboard', email=current_user.email) }}{% endif %}" class="btn btn-secondary">
                            ‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –ø–∞–Ω–µ–ª—ñ
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Network info modal -->
<div class="modal fade" id="networkInfoModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂—ñ</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p>–î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏—Ö –∑–Ω–∏–∂–æ–∫ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à –≥–∞–º–∞–Ω–µ—Ü—å –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ –º–µ—Ä–µ–∂—ñ <strong>Polygon (MATIC)</strong>:</p>
                <ul>
                    <li><strong>Network Name:</strong> Polygon Mainnet</li>
                    <li><strong>RPC URL:</strong> https://polygon-rpc.com/</li>
                    <li><strong>Chain ID:</strong> 137</li>
                    <li><strong>Symbol:</strong> MATIC</li>
                    <li><strong>Block Explorer:</strong> https://polygonscan.com/</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}
